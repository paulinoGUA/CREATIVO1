<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.6">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">###############################################################</p>
<p class="p1"># Contenido del archivo: package.json</p>
<p class="p1"># Ubicación: En la raíz de tu proyecto (ej: mi-juego-colores/)</p>
<p class="p1">###############################################################</p>
<p class="p1">{</p>
<p class="p1"><span class="Apple-converted-space">  </span>"name": "mi-juego-colores",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"version": "0.1.0",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"private": true,</p>
<p class="p1"><span class="Apple-converted-space">  </span>"homepage": "https://&lt;tu-usuario-github&gt;.github.io/&lt;nombre-de-tu-repositorio&gt;",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"dependencies": {</p>
<p class="p1"><span class="Apple-converted-space">    </span>"@testing-library/jest-dom": "^5.17.0",</p>
<p class="p1"><span class="Apple-converted-space">    </span>"@testing-library/react": "^13.4.0",</p>
<p class="p1"><span class="Apple-converted-space">    </span>"@testing-library/user-event": "^13.5.0",</p>
<p class="p1"><span class="Apple-converted-space">    </span>"firebase": "^10.12.3",</p>
<p class="p1"><span class="Apple-converted-space">    </span>"gh-pages": "^6.1.1",</p>
<p class="p1"><span class="Apple-converted-space">    </span>"react": "^18.2.0",</p>
<p class="p1"><span class="Apple-converted-space">    </span>"react-dom": "^18.2.0",</p>
<p class="p1"><span class="Apple-converted-space">    </span>"react-scripts": "5.0.1",</p>
<p class="p1"><span class="Apple-converted-space">    </span>"web-vitals": "^2.1.4"</p>
<p class="p1"><span class="Apple-converted-space">  </span>},</p>
<p class="p1"><span class="Apple-converted-space">  </span>"scripts": {</p>
<p class="p1"><span class="Apple-converted-space">    </span>"start": "react-scripts start",</p>
<p class="p1"><span class="Apple-converted-space">    </span>"build": "react-scripts build",</p>
<p class="p1"><span class="Apple-converted-space">    </span>"test": "react-scripts test",</p>
<p class="p1"><span class="Apple-converted-space">    </span>"eject": "react-scripts eject",</p>
<p class="p1"><span class="Apple-converted-space">    </span>"predeploy": "npm run build",</p>
<p class="p1"><span class="Apple-converted-space">    </span>"deploy": "gh-pages -d build"</p>
<p class="p1"><span class="Apple-converted-space">  </span>},</p>
<p class="p1"><span class="Apple-converted-space">  </span>"eslintConfig": {</p>
<p class="p1"><span class="Apple-converted-space">    </span>"extends": [</p>
<p class="p1"><span class="Apple-converted-space">      </span>"react-app",</p>
<p class="p1"><span class="Apple-converted-space">      </span>"react-app/jest"</p>
<p class="p1"><span class="Apple-converted-space">    </span>]</p>
<p class="p1"><span class="Apple-converted-space">  </span>},</p>
<p class="p1"><span class="Apple-converted-space">  </span>"browserslist": {</p>
<p class="p1"><span class="Apple-converted-space">    </span>"production": [</p>
<p class="p1"><span class="Apple-converted-space">      </span>"&gt;0.2%",</p>
<p class="p1"><span class="Apple-converted-space">      </span>"not dead",</p>
<p class="p1"><span class="Apple-converted-space">      </span>"not op_mini all"</p>
<p class="p1"><span class="Apple-converted-space">    </span>],</p>
<p class="p1"><span class="Apple-converted-space">    </span>"development": [</p>
<p class="p1"><span class="Apple-converted-space">      </span>"last 1 chrome version",</p>
<p class="p1"><span class="Apple-converted-space">      </span>"last 1 firefox version",</p>
<p class="p1"><span class="Apple-converted-space">      </span>"last 1 safari version"</p>
<p class="p1"><span class="Apple-converted-space">    </span>]</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">###############################################################</p>
<p class="p1"># Contenido del archivo: public/index.html</p>
<p class="p1"># Ubicación: mi-juego-colores/public/</p>
<p class="p1">###############################################################</p>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="es"&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta charset="utf-8" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;link rel="icon" href="%PUBLIC_URL%/favicon.ico" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="theme-color" content="#000000" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta</p>
<p class="p1"><span class="Apple-converted-space">      </span>name="description"</p>
<p class="p1"><span class="Apple-converted-space">      </span>content="Juego interactivo de mezcla de colores para docentes de ECA."</p>
<p class="p1"><span class="Apple-converted-space">    </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!--</p>
<p class="p1"><span class="Apple-converted-space">      </span>manifest.json proporciona metadatos utilizados por los navegadores móviles o para añadir a la pantalla de inicio.</p>
<p class="p1"><span class="Apple-converted-space">      </span>Lee https://developers.google.com/web/fundamentals/web-app-manifest/</p>
<p class="p1"><span class="Apple-converted-space">    </span>--&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;link rel="manifest" href="%PUBLIC_URL%/manifest.json" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!--</p>
<p class="p1"><span class="Apple-converted-space">      </span>Notice the use of %PUBLIC_URL% in the tags above.</p>
<p class="p1"><span class="Apple-converted-space">      </span>It will be replaced with the URL of the `public` folder during the build.</p>
<p class="p1"><span class="Apple-converted-space">      </span>Only files inside the `public` folder can be referenced from the HTML.</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will</p>
<p class="p1"><span class="Apple-converted-space">      </span>work correctly both with client-side routing and a non-root public URL.</p>
<p class="p1"><span class="Apple-converted-space">      </span>Learn how to configure a non-root public URL by running `npm run build`.</p>
<p class="p1"><span class="Apple-converted-space">    </span>--&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;title&gt;Desafío de Mezcla de Colores&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- Carga de Tailwind CSS CDN --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdn.tailwindcss.com"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>/* Fuentes y estilos globales, si `index.css` no se usa */</p>
<p class="p1"><span class="Apple-converted-space">      </span>@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&amp;display=swap');</p>
<p class="p1"><span class="Apple-converted-space">      </span>body {</p>
<p class="p1"><span class="Apple-converted-space">        </span>font-family: 'Inter', sans-serif;</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/head&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;body&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;noscript&gt;Necesitas habilitar JavaScript para ejecutar esta aplicación.&lt;/noscript&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="root"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!--</p>
<p class="p1"><span class="Apple-converted-space">      </span>Este archivo HTML es una plantilla.</p>
<p class="p1"><span class="Apple-converted-space">      </span>Si abres esto directamente en el navegador, verás una página vacía.</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>Puedes añadir fuentes web, meta tags, o análisis dentro de la etiqueta head.</p>
<p class="p1"><span class="Apple-converted-space">      </span>El proceso de construcción inyectará los scripts y el marcado de la aplicación en el cuerpo.</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>Para empezar el desarrollo, ejecuta `npm start` o `yarn start`.</p>
<p class="p1"><span class="Apple-converted-space">      </span>Para crear un paquete de producción, ejecuta `npm run build` o `yarn build`.</p>
<p class="p1"><span class="Apple-converted-space">    </span>--&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
<p class="p2"><br></p>
<p class="p1">###############################################################</p>
<p class="p1"># Contenido del archivo: src/App.js</p>
<p class="p1"># Ubicación: mi-juego-colores/src/</p>
<p class="p1">###############################################################</p>
<p class="p1">import React, { useState, useEffect } from 'react';</p>
<p class="p1">import { initializeApp } from 'firebase/app';</p>
<p class="p1">import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from 'firebase/auth';</p>
<p class="p1">import { getFirestore, collection, addDoc, serverTimestamp } from 'firebase/firestore';</p>
<p class="p2"><br></p>
<p class="p1">// Componente principal de la aplicación</p>
<p class="p1">function App() {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const [db, setDb] = useState(null);</p>
<p class="p1"><span class="Apple-converted-space">    </span>const [auth, setAuth] = useState(null);</p>
<p class="p1"><span class="Apple-converted-space">    </span>const [userId, setUserId] = useState(null);</p>
<p class="p1"><span class="Apple-converted-space">    </span>const [isAuthReady, setIsAuthReady] = useState(false);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>const [targetColor, setTargetColor] = useState(null);</p>
<p class="p1"><span class="Apple-converted-space">    </span>const [selectedColors, setSelectedColors] = useState([]); // Almacena hasta dos colores seleccionados</p>
<p class="p1"><span class="Apple-converted-space">    </span>const [mixedColor, setMixedColor] = useState(null);</p>
<p class="p1"><span class="Apple-converted-space">    </span>const [feedbackMessage, setFeedbackMessage] = useState('');</p>
<p class="p1"><span class="Apple-converted-space">    </span>const [feedbackType, setFeedbackType] = useState(''); // 'success' o 'error'</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Definición de colores primarios y secundarios</p>
<p class="p1"><span class="Apple-converted-space">    </span>const primaryColors = [</p>
<p class="p1"><span class="Apple-converted-space">        </span>{ name: 'Rojo', hex: '#FF0000', id: 'red' },</p>
<p class="p1"><span class="Apple-converted-space">        </span>{ name: 'Amarillo', hex: '#FFFF00', id: 'yellow' },</p>
<p class="p1"><span class="Apple-converted-space">        </span>{ name: 'Azul', hex: '#0000FF', id: 'blue' },</p>
<p class="p1"><span class="Apple-converted-space">    </span>];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>const mixRules = {</p>
<p class="p1"><span class="Apple-converted-space">        </span>// Combinaciones para colores secundarios</p>
<p class="p1"><span class="Apple-converted-space">        </span>'red_yellow': { name: 'Naranja', hex: '#FFA500' },</p>
<p class="p1"><span class="Apple-converted-space">        </span>'yellow_red': { name: 'Naranja', hex: '#FFA500' },</p>
<p class="p1"><span class="Apple-converted-space">        </span>'blue_yellow': { name: 'Verde', hex: '#008000' },</p>
<p class="p1"><span class="Apple-converted-space">        </span>'yellow_blue': { name: 'Verde', hex: '#008000' },</p>
<p class="p1"><span class="Apple-converted-space">        </span>'red_blue': { name: 'Violeta', hex: '#800080' },</p>
<p class="p1"><span class="Apple-converted-space">        </span>'blue_red': { name: 'Violeta', hex: '#800080' },</p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>const secondaryColors = [</p>
<p class="p1"><span class="Apple-converted-space">        </span>{ name: 'Naranja', hex: '#FFA500' },</p>
<p class="p1"><span class="Apple-converted-space">        </span>{ name: 'Verde', hex: '#008000' },</p>
<p class="p1"><span class="Apple-converted-space">        </span>{ name: 'Violeta', hex: '#800080' },</p>
<p class="p1"><span class="Apple-converted-space">    </span>];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// useEffect para inicializar Firebase y manejar la autenticación</p>
<p class="p1"><span class="Apple-converted-space">    </span>useEffect(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const initializeFirebase = async () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// Obtener configuración de Firebase y App ID del entorno Canvas</p>
<p class="p1"><span class="Apple-converted-space">                </span>const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');</p>
<p class="p1"><span class="Apple-converted-space">                </span>const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (!firebaseConfig || Object.keys(firebaseConfig).length === 0) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.warn("Firebase config is not defined. Firebase features will not be available.");</p>
<p class="p1"><span class="Apple-converted-space">                    </span>setIsAuthReady(true); // Permite que la app cargue incluso sin Firebase</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const firebaseApp = initializeApp(firebaseConfig);</p>
<p class="p1"><span class="Apple-converted-space">                </span>const firestoreDb = getFirestore(firebaseApp);</p>
<p class="p1"><span class="Apple-converted-space">                </span>const firebaseAuth = getAuth(firebaseApp);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>setDb(firestoreDb);</p>
<p class="p1"><span class="Apple-converted-space">                </span>setAuth(firebaseAuth);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// Autenticar al usuario</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (typeof __initial_auth_token !== 'undefined') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>await signInWithCustomToken(firebaseAuth, __initial_auth_token);</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>await signInAnonymously(firebaseAuth);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// Listener para el estado de autenticación</p>
<p class="p1"><span class="Apple-converted-space">                </span>onAuthStateChanged(firebaseAuth, (user) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (user) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>setUserId(user.uid);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log("Firebase Auth Ready. User ID:", user.uid);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>setUserId(crypto.randomUUID()); // Usar un ID aleatorio para usuarios no autenticados</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log("Signed in anonymously or user not found. Using random ID.");</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>setIsAuthReady(true);</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.error("Error initializing Firebase or authenticating:", error);</p>
<p class="p1"><span class="Apple-converted-space">                </span>setIsAuthReady(true); // Permitir que la app se cargue a pesar del error de Firebase</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>initializeFirebase();</p>
<p class="p1"><span class="Apple-converted-space">    </span>}, []); // Se ejecuta solo una vez al montar el componente</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// useEffect para generar un nuevo desafío cuando la autenticación está lista</p>
<p class="p1"><span class="Apple-converted-space">    </span>useEffect(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>if (isAuthReady) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>generateNewChallenge();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>}, [isAuthReady]); // Depende de isAuthReady</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Genera un nuevo color objetivo aleatorio (uno de los secundarios)</p>
<p class="p1"><span class="Apple-converted-space">    </span>const generateNewChallenge = () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const randomIndex = Math.floor(Math.random() * secondaryColors.length);</p>
<p class="p1"><span class="Apple-converted-space">        </span>setTargetColor(secondaryColors[randomIndex]);</p>
<p class="p1"><span class="Apple-converted-space">        </span>setSelectedColors([]);</p>
<p class="p1"><span class="Apple-converted-space">        </span>setMixedColor(null);</p>
<p class="p1"><span class="Apple-converted-space">        </span>setFeedbackMessage('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setFeedbackType('');</p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Maneja la selección de colores primarios</p>
<p class="p1"><span class="Apple-converted-space">    </span>const handleColorSelect = (color) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>setFeedbackMessage('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setFeedbackType('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>if (selectedColors.length &lt; 2) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>setSelectedColors([...selectedColors, color]);</p>
<p class="p1"><span class="Apple-converted-space">        </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// Reemplaza el color más antiguo si ya hay dos seleccionados</p>
<p class="p1"><span class="Apple-converted-space">            </span>setSelectedColors([selectedColors[1], color]);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Mezcla los colores seleccionados</p>
<p class="p1"><span class="Apple-converted-space">    </span>const handleMixColors = () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>setFeedbackMessage('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>setFeedbackType('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>if (selectedColors.length === 2) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const [color1, color2] = selectedColors;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const mixKey = `${color1.id}_${color2.id}`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const result = mixRules[mixKey];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (result) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>setMixedColor(result);</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>setMixedColor({ name: 'Mezcla Desconocida', hex: '#CCCCCC' }); // Color por defecto para mezclas no primarias</p>
<p class="p1"><span class="Apple-converted-space">                </span>setFeedbackMessage('Combina solo dos colores primarios para obtener un color secundario.');</p>
<p class="p1"><span class="Apple-converted-space">                </span>setFeedbackType('error');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">            </span>setMixedColor(null);</p>
<p class="p1"><span class="Apple-converted-space">            </span>setFeedbackMessage('Por favor, selecciona dos colores para mezclar.');</p>
<p class="p1"><span class="Apple-converted-space">            </span>setFeedbackType('error');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Verifica si el color mezclado coincide con el objetivo</p>
<p class="p1"><span class="Apple-converted-space">    </span>const checkMix = async () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>if (!mixedColor) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>setFeedbackMessage('Primero, mezcla los colores.');</p>
<p class="p1"><span class="Apple-converted-space">            </span>setFeedbackType('error');</p>
<p class="p1"><span class="Apple-converted-space">            </span>return;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const isCorrect = mixedColor.hex === targetColor.hex;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>if (isCorrect) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>setFeedbackMessage(`¡Felicidades! Has creado ${mixedColor.name}. ¡Es el color correcto! 🎉`);</p>
<p class="p1"><span class="Apple-converted-space">            </span>setFeedbackType('success');</p>
<p class="p1"><span class="Apple-converted-space">        </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">            </span>setFeedbackMessage(`Incorrecto. Has creado ${mixedColor.name}. El color objetivo era ${targetColor.name}. Sigue intentando.`);</p>
<p class="p1"><span class="Apple-converted-space">            </span>setFeedbackType('error');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Guardar el intento en Firestore</p>
<p class="p1"><span class="Apple-converted-space">        </span>if (db &amp;&amp; userId &amp;&amp; isAuthReady) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const gameAttemptsCollectionRef = collection(db, `artifacts/${appId}/users/${userId}/gameAttempts`);</p>
<p class="p1"><span class="Apple-converted-space">                </span>await addDoc(gameAttemptsCollectionRef, {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>userId: userId,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>targetColor: targetColor.name,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>mixedColor: mixedColor.name,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>isCorrect: isCorrect,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>timestamp: serverTimestamp(),</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log("Intento de juego guardado en Firestore.");</p>
<p class="p1"><span class="Apple-converted-space">            </span>} catch (e) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.error("Error al guardar el intento en Firestore:", e);</p>
<p class="p1"><span class="Apple-converted-space">                </span>// Mostrar un mensaje al usuario si Firestore falló</p>
<p class="p1"><span class="Apple-converted-space">                </span>setFeedbackMessage(prev =&gt; prev + ' (No se pudo guardar el intento en la base de datos).');</p>
<p class="p1"><span class="Apple-converted-space">                </span>setFeedbackType('error');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.warn("Firebase o userId no están listos. No se puede guardar el intento.");</p>
<p class="p1"><span class="Apple-converted-space">            </span>// Mostrar un mensaje si Firebase no está listo</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (isAuthReady &amp;&amp; userId) { // If auth is ready but db is not</p>
<p class="p1"><span class="Apple-converted-space">                </span>setFeedbackMessage(prev =&gt; prev + ' (No se pudo guardar el intento en la base de datos).');</p>
<p class="p1"><span class="Apple-converted-space">                </span>setFeedbackType('error');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>return (</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="min-h-screen flex items-center justify-center p-4 bg-f0fdf4 font-inter"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="bg-white rounded-3xl shadow-xl p-8 max-w-4xl w-full flex flex-col gap-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h1 className="text-4xl font-bold text-center text-gray-800 mb-4"&gt;🌈 Desafío de Mezcla de Colores 🎨&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p className="text-xl text-center text-gray-600 mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>Tu objetivo es crear el color mostrado. ¡Mezcla los colores primarios y comprueba tu resultado!</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/p&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>{!isAuthReady &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div className="text-center text-gray-500 text-lg"&gt;Cargando juego...&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>)}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>{isAuthReady &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div className="grid grid-cols-1 lg:grid-cols-2 gap-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>{/* Sección de Objetivo y Paleta */}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div className="p-6 bg-gray-50 rounded-2xl shadow-inner flex flex-col items-center justify-center gap-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h2 className="text-2xl font-semibold text-gray-700 mb-4"&gt;Color Objetivo:&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div</p>
<p class="p1"><span class="Apple-converted-space">                                </span>className="w-40 h-40 rounded-2xl border-4 border-green-400 flex items-center justify-center text-2xl font-bold text-white shadow-lg"</p>
<p class="p1"><span class="Apple-converted-space">                                </span>style={{ backgroundColor: targetColor ? targetColor.hex : '#e2e8f0' }}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>{targetColor ? targetColor.name : 'Cargando...'}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h2 className="text-2xl font-semibold text-gray-700 mt-8 mb-4"&gt;Paleta de Pigmentos:&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div className="flex flex-wrap gap-4 justify-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>{primaryColors.map((color) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>key={color.id}</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>className={`w-16 h-16 rounded-full border-2 border-gray-300 cursor-pointer transition-all duration-200 ease-in-out hover:scale-110 hover:shadow-lg</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>${selectedColors.some(sc =&gt; sc.id === color.id) ? 'ring-4 ring-green-500' : ''}`}</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>style={{ backgroundColor: color.hex }}</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>onClick={() =&gt; handleColorSelect(color)}</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>title={color.name}</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>))}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>{/* Sección de Mezcla y Resultado */}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div className="p-6 bg-gray-50 rounded-2xl shadow-inner flex flex-col items-center justify-center gap-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h2 className="text-2xl font-semibold text-gray-700 mb-4"&gt;Tu Mezcla:&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div className="flex gap-4 mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>className="w-24 h-24 border-2 border-dashed border-gray-400 rounded-lg flex items-center justify-center text-gray-500 font-medium text-sm"</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>style={{ backgroundColor: selectedColors[0] ? selectedColors[0].hex : 'transparent' }}</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>{selectedColors[0] ? '' : '1er Color'}</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>className="w-24 h-24 border-2 border-dashed border-gray-400 rounded-lg flex items-center justify-center text-gray-500 font-medium text-sm"</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>style={{ backgroundColor: selectedColors[1] ? selectedColors[1].hex : 'transparent' }}</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>{selectedColors[1] ? '' : '2do Color'}</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button</p>
<p class="p1"><span class="Apple-converted-space">                                </span>className="px-6 py-3 bg-indigo-600 text-white font-semibold rounded-xl shadow-md hover:bg-indigo-700 transition-all duration-300 ease-in-out transform hover:-translate-y-1"</p>
<p class="p1"><span class="Apple-converted-space">                                </span>onClick={handleMixColors}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>¡Mezclar Colores!</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h2 className="text-2xl font-semibold text-gray-700 mt-8 mb-4"&gt;Color Mezclado Resultante:&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div</p>
<p class="p1"><span class="Apple-converted-space">                                </span>className="w-40 h-40 rounded-2xl border-4 border-emerald-500 shadow-xl"</p>
<p class="p1"><span class="Apple-converted-space">                                </span>style={{ backgroundColor: mixedColor ? mixedColor.hex : '#e2e8f0' }}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p className="text-xl font-semibold text-gray-800 mt-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>{mixedColor ? mixedColor.name : 'Mezcla para ver el resultado'}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/p&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>{feedbackMessage &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div className={`mt-4 p-4 rounded-xl text-center text-lg font-medium ${</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>feedbackType === 'success' ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'</p>
<p class="p1"><span class="Apple-converted-space">                                </span>}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>{feedbackMessage}</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>)}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div className="flex gap-4 mt-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>className="px-6 py-3 bg-lime-600 text-white font-semibold rounded-xl shadow-md hover:bg-lime-700 transition-all duration-300 ease-in-out transform hover:-translate-y-1"</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>onClick={checkMix}</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>disabled={!mixedColor}</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>Comprobar Mezcla</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>className="px-6 py-3 bg-cyan-600 text-white font-semibold rounded-xl shadow-md hover:bg-cyan-700 transition-all duration-300 ease-in-out transform hover:-translate-y-1"</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>onClick={generateNewChallenge}</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>Nuevo Desafío</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>)}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>{/* Mostrar User ID para identificación en modo colaborativo */}</p>
<p class="p1"><span class="Apple-converted-space">                </span>{userId &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div className="mt-8 text-center text-gray-500 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>Tu ID de Usuario (para colaboración): &lt;span className="font-mono bg-gray-100 p-1 rounded"&gt;{userId}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>)}</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>);</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">export default App;</p>
<p class="p2"><br></p>
<p class="p1">###############################################################</p>
<p class="p1"># Contenido del archivo: src/index.js</p>
<p class="p1"># Ubicación: mi-juego-colores/src/</p>
<p class="p1">###############################################################</p>
<p class="p1">import React from 'react';</p>
<p class="p1">import ReactDOM from 'react-dom/client';</p>
<p class="p1">import './index.css'; // Si tienes un archivo CSS global, si no, puedes eliminar esta línea</p>
<p class="p1">import App from './App'; // Importa tu componente App</p>
<p class="p2"><br></p>
<p class="p1">const root = ReactDOM.createRoot(document.getElementById('root'));</p>
<p class="p1">root.render(</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;React.StrictMode&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;App /&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/React.StrictMode&gt;</p>
<p class="p1">);</p>
<p class="p2"><br></p>
<p class="p1">###############################################################</p>
<p class="p1"># Contenido del archivo: .gitignore</p>
<p class="p1"># Ubicación: En la raíz de tu proyecto (ej: mi-juego-colores/)</p>
<p class="p1">###############################################################</p>
<p class="p1"># See https://help.github.com/articles/ignoring-files/ for more about ignoring files.</p>
<p class="p2"><br></p>
<p class="p1"># dependencies</p>
<p class="p1">/node_modules</p>
<p class="p1">/.pnp</p>
<p class="p1">.pnp.js</p>
<p class="p2"><br></p>
<p class="p1"># testing</p>
<p class="p1">/coverage</p>
<p class="p2"><br></p>
<p class="p1"># production</p>
<p class="p1">/build</p>
<p class="p2"><br></p>
<p class="p1"># misc</p>
<p class="p1">.DS_Store</p>
<p class="p1">.env.local</p>
<p class="p1">.env.development.local</p>
<p class="p1">.env.test.local</p>
<p class="p1">.env.production.local</p>
<p class="p1">.env*.local</p>
<p class="p2"><br></p>
<p class="p1">npm-debug.log*</p>
<p class="p1">yarn-debug.log*</p>
<p class="p1">yarn-error.log*</p>
</body>
</html>
